mScan
=====

Created by:
-----------
* Eleanor O'Rourke (eorourke@cs.washington.edu)
* Nicola Dell (nixdell@cs.washington.edu)
* Vincent Lung (vincent.lung@gmail.com)
* Nathan Breit (nbnate@uw.edu)

Source tree information
-----------------------
Quick description of the content in the root folder:

* AndroidManifest.xml -- Manifest of the Android application
* android-opencv.mk   -- Build settings for C++ components (possibly unnecessairy)
* LastKnownGoodBuild  -- Contains the apk file for the last known good build
* Makefile	-- Makefile for C++ components
* build.xml -- Build manifest for the Android application
* default.properties  -- Default build properties for the Android application
* jni -- Source tree for C++ components
* local.* -- Build configuration file
* opencv -- The minimum set of the OpenCV library needed to build mScan
* proguard.cfg -- Proguard configuration file
* res -- Source tree for Java resources
* src -- Source tree for Java components

Main mScan source file information
----------------------------------

All Android java activites are under the src/com/mScan/ folder:

* mScan.java -- mScan Main menu
* BubbleCollect.java -- Activity launched from main menu for capturing a form image using live camera feed
* AfterPhotoTaken.java -- Activity called after BubbleCollect to evaulate the captured image
* BubbleProcess.java -- Activity called after AfterPhotoTaken to process the captured image
* DisplayProcessedForm.java	-- Activity called after BubbleProcess to display the processed image
* DisplayProcessedData.java	-- Activity optionally called by DisplayProcessedForm to display data extracted from processed image
* ViewBubbleForms.java -- Activity launched from main menu to view previously processed forms
* BubbleInstructions.java -- Activity launched from main menu to display user instructions
* jni/ -- Everything under this folder are generated by SWIG to Java-to-C++ invocation. (Has it's own README)
* TestSuite/ -- TestSuite for tuning the underlying computer vision algorithms. (Has it's own README)
* OpenCV-2.3.1/ -- OpenCV library

Building the project
====================
mScan is a mix of Java and native C++ code, so it can be little bit complicated to build.

The only external dependencies are the android sdk and ndk (and swig)
We assume that you have the SDK in /home/nathan/android-sdk-linux_x86 (Which it is almost surely not!)
Change that directory in local.properties and watch out tildas don't work.
We assume that you have the NDK in ~/android-ndk-r6
You can change this directory in local.env.mk

To clean the project:

1. Enter "make clean"
2. Enter "ant clean"

To build the project:

1. Enter "make" to build the C++ components
2. Enter "ant debug" to bulid the Java compononts and the Android application

Alternatively, enter "ant install" in step 2 to install the Android application to the connected
emulator or phone after the application is built.

In order to see how to set things up in eclipse take a look at:
http://opencv.itseez.com/doc/tutorials/introduction/android_binary_package/android_binary_package.html
android_binary_package_using_with_NDK.html
There's a good chance you will run into some problems, but many can be solved simply by doing this:

1. From the top menu bar go to Project->Clean.
2. In the Package Explorer, right click on the project and slect refresh.
